{% extends "base.html" %}

{% block headscript %}
  <script type="text/javascript">
    $(function () {
        $table = $("#tic-tac-toe-table");
        $comment = $("#comment");
        url_play = "{% url 'play' %}";

        $table.addClass("locked");

        $("#tic-tac-toe-table td").click(function () {            
            if (!$table.hasClass("locked")) {
                if (game_finished) {
                    reset_table();
                } else if ($(this).hasClass('e')) {
                    $(this).removeClass('e');
                    $(this).addClass(player);
                    make_next_ai_play();
                }
            }
        });
        $(".set-player").click(function () {
            set_player($(this).attr('id'));
        });
    });
</script>
{% endblock %}

{% block content %}
<div>Welcome to the Tic Tac Toe!</div>
<div id="comment">Pick a player:</div>
<button type="button" class="set-player" id="x">Play as X</button>
<button type="button" class="set-player" id="o">Play as O</button>
<table id="tic-tac-toe-table">
    <tbody>
        <tr>
            <td class="e top left"></td>
            <td class="e top"></td>
            <td class="e top right"></td>
        </tr>
        <tr>
            <td class="e left"></td>
            <td class="e "></td>
            <td class="e right"></td>
        </tr>
        <tr>
            <td class="e bottom left"></td>
            <td class="e bottom"></td>
            <td class="e bottom right"></td>
        </tr>
    </tbody>
</table>
<div>Your losses: <span id="losses">0</span></div>
<div>AI's losses: 0</div>
{% endblock %}
