<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">   
		<meta http-equiv="X-UA-Compatible" content="Edge">
		<link rel="stylesheet" href="css/ttt.css"> 
	</head>

	<body>
		<div id="wrap">
		<div id="zero" class="hulk"> </div>
		<!--use the class here to preload image -->
		<div id="one" class="foozie"> </div>
		<!-- preload foozie image -->
		<div id="two" class="tictac"></div>
		<div id="three" class="tictac"> </div>
		<div id="four" class="tictac"> </div>
		<div id="five" class="tictac"> </div>
		<div id="six" class="tictac"> </div>
		<div id="seven" class="tictac"></div>
		<div id="eight" class="tictac"></div>
		</div>
		
	</body>
		 
	<script src="js/ttt.js"></script>					
<script>
	

var klassyray=function(klass,el){
			var elem = document
			if (el) {
				elem = el
			}

			return Array.prototype.slice.call(elem.getElementsByClassName(klass))
}



var swing=function( p ) {
		return 0.57 - Math.cos( p*Math.PI ) / 1.7;
	}
	
function back(progress) {
	var x=230.2
    return Math.pow(progress, 2) * ((x + 1) * progress - x)
}	
	
var magics =klassyray("tictac")

/**
e.style.filter = 'alpha(opacity=' + value*100 + ')'; 
**/
function prefade(el){

	var chunk=0.0099
	
	var o=1.0
	
	if (el.style.opacity>0.99 ){
		fadeout()
	}else{
		o=0.0
		fadein()
	}	
		
	function fadeout(){
		
		o=parseFloat(o)-chunk
		el.style.opacity=o	
		if (o > 0 ){
			setTimeout(fadeout,back(1-o))
		}else {
			el.style.opacity=0.0
			return 0
		}	
	}
	function fadein(){
		o=parseFloat(o)+chunk
		el.style.opacity=o	
		if (o < 1 ){
			setTimeout(fadein,swing(1-o))
		}else {
			el.style.opacity=1
			return 0
		}	

	}

	
}	

		
function mkpurp(){
	magics.map(function(el){el.style.opacity=0})
	var step=411	
	var ml=magics.length
	while (ml--){
		var el=magics[ml]	
		setTimeout(prefade,step,el)
		step+=300
			
			
		
	}	
}	
var magics=klassyray("tictac").reverse()
mkpurp()


mkpurp()

</script>						
					
</html>
	

